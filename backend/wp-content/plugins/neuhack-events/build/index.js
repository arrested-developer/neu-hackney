!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t,a){"use strict";a.r(t);var n=a(0),r=wp.blocks.registerBlockType,l=wp.editor,i=l.MediaUpload,c=l.RichText,o=wp.components,m=o.Button,u=o.TextareaControl,s=o.BaseControl,d=o.TimePicker,g=o.RadioControl;r("neuhack/event",{title:"Event Details",icon:"format-image",category:"common",attributes:{mediaID:{type:"number"},mediaURL:{type:"string",source:"attribute",selector:"img",attribute:"src"},__mediaURL:{type:"string",source:"meta",meta:"neuhack_event_flyer_url"},imageAlt:{type:"string",source:"attribute",selector:"img",attribute:"alt"},__imageAlt:{type:"string",source:"meta",meta:"neuhack_event_image_alt"},__dateTime:{type:"string",source:"meta",meta:"neuhack_event_date_time"},date:{type:"array",source:"children",selector:".neuhack-event-date"},time:{type:"array",source:"children",selector:".neuhack-event-time"},eventDetails:{type:"array",source:"children",selector:".neuhack-event-details"},eventIsGeneralMeeting:{type:"number"},__eventIsGeneralMeeting:{type:"number",source:"meta",meta:"neuhack_event_is_general_meeting"},agendaID:{type:"number"},agendaURL:{type:"string",source:"attribute",selector:"a",attribute:"href"},__agendaURL:{type:"string",source:"meta",meta:"neuhack_event_agenda"}},edit:function(e){var t=e.className,a=e.attributes,r=a.mediaID,l=a.mediaURL,o=a.imageAlt,p=a.__eventIsGeneralMeeting,b=a.__dateTime,v=a.eventDetails,h=a.agendaID,_=a.__agendaURL,f=e.setAttributes;return Object(n.createElement)("section",{className:t},Object(n.createElement)(s,{label:"Add a flyer for the event, which should include the event details",id:"flyer-upload"},Object(n.createElement)(i,{onSelect:function(e){f({mediaID:e.id,mediaURL:e.url,__mediaURL:e.url})},allowedTypes:"image",value:r,id:"flyer-upload",render:function(e){var t=e.open;return Object(n.createElement)(m,{className:r?"image-button":"button button-large",onClick:t},r?Object(n.createElement)("img",{src:l,alt:"Event Flyer"}):"Upload image")}})),Object(n.createElement)(s,{label:"Enter date and time for the event, using 24 hour time (e.g. 18:00)",id:"date-time"},Object(n.createElement)(d,{id:"date-time",currentTime:b,onChange:function(e){var t=new Date(e),a=t.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),n=t.toLocaleTimeString("en-GB",{hour12:!0,hour:"numeric",minute:"2-digit"});f({__dateTime:e,date:a,time:n})}})),Object(n.createElement)(s,{label:"Event Details",id:"event-details"},Object(n.createElement)(c,{tagName:"div",multiline:"br",id:"event-details",placeholder:"Enter the key event details, e.g. location",value:v,onChange:function(e){f({eventDetails:e})},style:{marginTop:"1rem",marginBottom:"1rem"}})),Object(n.createElement)("div",{className:"neuhack-event-settings",style:{background:"#ccc",padding:"0 1rem 1rem 1rem",borderRadius:"5px",paddingTop:"1rem !important"}},Object(n.createElement)("h4",null,"Event Settings"),Object(n.createElement)(u,{label:"Flyer Alt Text",placeholder:"Describe the important details from the flyer for those who cannot see the image. This will be read out for visually impaired users.",value:o,onChange:function(e){f({imageAlt:e,__imageAlt:e})}}),Object(n.createElement)(g,{label:"Select event type",selected:p,onChange:function(e){var t=Number(e);f({eventIsGeneralMeeting:t,__eventIsGeneralMeeting:t})},options:[{label:"Other",value:0},{label:"General Meeting",value:1}]}),p?Object(n.createElement)(s,{label:"Upload a full flyer with agenda and previous meeting's minutes, as a pdf",id:"agenda-upload"},Object(n.createElement)(i,{onSelect:function(e){f({agendaID:e.id,agendaURL:e.url,__agendaURL:e.url})},allowedTypes:"pdf",value:h,id:"agenda-upload",render:function(e){var t=e.open;return Object(n.createElement)("div",{style:{width:"100%"}},h&&Object(n.createElement)("embed",{src:_,type:"application/pdf",width:"100%",height:"600px"}),Object(n.createElement)(m,{className:"button button-large",onClick:t},h?"Choose again":"Upload agenda"))}})):null))},save:function(e){var t=e.className,a=e.attributes,r=a.mediaURL,l=a.imageAlt,i=a.date,c=a.time,o=a.eventDetails,m=a.eventIsGeneralMeeting,u=a.agendaURL;return Object(n.createElement)("article",{className:t},Object(n.createElement)("img",{src:r,alt:l}),Object(n.createElement)("p",{className:"neuhack-event-date-time"},Object(n.createElement)("div",{className:"neuhack-event-date"},i),Object(n.createElement)("div",{className:"neuhack-event-time"},c)),Object(n.createElement)("p",{className:"neuhack-event-details"},o),m?Object(n.createElement)("p",{className:"neuhack-agenda-link"},Object(n.createElement)("a",{href:u},"View Agenda")):null)}})}]);