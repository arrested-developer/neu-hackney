!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t,a){"use strict";a.r(t);var n=a(0),r=wp.blocks.registerBlockType,l=wp.editor,i=l.MediaUpload,c=l.RichText,o=wp.components,u=o.Button,m=o.TextareaControl,s=o.TimePicker,d=o.RadioControl,g=o.BaseControl;r("neuhack/flyer",{title:"Event Details",icon:"format-image",category:"common",attributes:{mediaID:{type:"number"},__mediaURL:{type:"string",source:"meta",meta:"neuhack_event_flyer_url",selector:"img",attribute:"src"},mediaURL:{type:"string",source:"attribute",selector:"img",attribute:"src"},imageAlt:{type:"string",source:"attribute",selector:"img",attribute:"alt"},__imageAlt:{type:"string",source:"meta",meta:"neuhack_event_image_alt"},__dateTime:{type:"string",source:"meta",meta:"neuhack_event_date_time"},date:{type:"array",source:"children",selector:".neuhack-event-date"},time:{type:"array",source:"children",selector:".neuhack-event-time"},eventLocation:{type:"array",source:"children",selector:".neuhack-event-location"},eventIsGeneralMeeting:{type:"number"},__eventIsGeneralMeeting:{type:"number",source:"meta",meta:"neuhack_event_is_general_meeting"},agendaID:{type:"number"},agendaURL:{type:"string",source:"attribute",selector:"a",attribute:"href"},__agendaURL:{type:"string",source:"meta",meta:"neuhack_event_agenda"}},edit:function(e){var t=e.className,a=e.attributes,r=a.mediaID,l=a.mediaURL,o=a.imageAlt,b=a.__dateTime,p=a.eventLocation,v=a.__eventIsGeneralMeeting,h=a.agendaID,f=a.agendaURL,y=e.setAttributes;return Object(n.createElement)("div",{className:t},Object(n.createElement)(g,{label:"Upload a flyer with the event details",id:"flyer-upload"},Object(n.createElement)(i,{onSelect:function(e){y({mediaURL:e.url,__mediaURL:e.url,mediaID:e.id})},allowedTypes:"image",value:r,id:"flyer-upload",render:function(e){var t=e.open;return Object(n.createElement)(u,{className:r?"image-button":"button button-large",onClick:t},r?Object(n.createElement)("img",{src:l,alt:"Event Flyer"}):"Upload image")}})),Object(n.createElement)(m,{label:"Alt Text",placeholder:"Describe the important details from the flyer for those who cannot see the image. This will be read out for visually impaired users.",value:o,onChange:function(e){y({imageAlt:e,__imageAlt:e})}}),Object(n.createElement)(g,{label:"Enter date and time for the event, using 24 hour time (e.g. 18:00)",id:"date-time"},Object(n.createElement)(s,{id:"date-time",currentTime:b,onChange:function(e){var t=new Date(e),a=t.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),n=t.toLocaleTimeString("en-GB",{hour12:!0,hour:"numeric",minute:"2-digit"});y({__dateTime:e,date:a,time:n})}})),Object(n.createElement)("div",null,Object(n.createElement)(g,{label:"Event Location",id:"location"},Object(n.createElement)(c,{tagName:"div",multiline:"br",className:"location",id:"location",placeholder:"Enter the event location",keepPlaceholderOnFocus:!0,value:p,onChange:function(e){y({eventLocation:e})},style:{marginTop:"1rem",marginBottom:"1rem"}}))),Object(n.createElement)(d,{label:"Select event type",selected:v,onChange:function(e){var t=Number(e);y({eventIsGeneralMeeting:t,__eventIsGeneralMeeting:t})},options:[{label:"Other",value:0},{label:"General Meeting",value:1}]}),Object(n.createElement)(g,{label:h?"Flyer and agenda preview:":"Upload the full flyer and agenda",id:"agenda-upload"},Object(n.createElement)(i,{id:"agenda-upload",onSelect:function(e){y({agendaURL:e.url,__agendaURL:e.url,agendaID:e.id})},allowedTypes:"pdf",value:h,render:function(e){var t=e.open;return Object(n.createElement)(u,{className:h?"image-button":"button button-large",onClick:t,style:{width:"100%"}},h?Object(n.createElement)("span",{style:{width:"100%"}},Object(n.createElement)("embed",{src:f,type:"application/pdf",width:"100%",height:"600px"}),Object(n.createElement)(u,{className:"button button-large",onClick:t},"Choose a different file")):"Upload file")}})))},save:function(e){var t=e.className,a=e.attributes,r=a.mediaURL,l=a.imageAlt,i=a.date,c=a.time,o=a.eventLocation,u=a.eventIsGeneralMeeting,m=a.agendaURL;return Object(n.createElement)("article",{className:t?t+" neuhack-event-card":"neuhack-event-card"},Object(n.createElement)("img",{src:r,alt:l}),Object(n.createElement)("p",{className:"neuhack-event-date-time"},Object(n.createElement)("div",{className:"neuhack-event-date"},i),Object(n.createElement)("div",{className:"neuhack-event-time"},c)),Object(n.createElement)("p",{className:"neuhack-event-location"},o),u?Object(n.createElement)("p",null,Object(n.createElement)("a",{href:m},"View agenda")):null)}})}]);